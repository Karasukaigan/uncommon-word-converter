var n=1,dictionary={};function change(str){for(var strChanged="",strList=str.split(""),pinyinList=[],charList=[],num=0,i=0;i<strList.length;i++)for(var key in dictionary)if(strList[i]===key){pinyinList[num]=dictionary[key],num+=1;break}num=0;for(var i=0;i<pinyinList.length;i++){charList[i]=[];for(var j=0;j<pinyinList[i].length;j++)for(var key in dictionary)for(var k=0;k<dictionary[key].length;k++)pinyinList[i][j]===dictionary[key][k]&&(charList[i][num]=key,num+=1);num=0}for(var i=0;i<charList.length;i++)strChanged+=charList[i][Math.floor(Math.random()*(charList[i].length-0))+0];return strChanged}$(document).ready((function(){for(var key in $("#change-button").click((function(){if(""!==$("#input-box").val()){var str=$("#input-box").val();$("#output-box").append("<div>"+n+". "+str+" > "+change(str)+"</div>"),n+=1}else alert("错误：输入为空！")})),$("#clear-button").click((function(){$("#input-box").val("")})),pinyin_dict_all)dictionary[key]=pinyin_dict_all[key].split(",")}));